(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-577ee869"],{"6f3c":function(t,e,l){"use strict";l.r(e);var a=function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",[l("div",{staticClass:"table-header el-table--border"},[t._v("MES系统")]),l("el-table",{staticStyle:{width:"100%"},attrs:{data:t.mesSystemTableData,border:""}},[l("el-table-column",{attrs:{prop:"system_name",label:"MES系统",width:"130"}}),l("el-table-column",{attrs:{prop:"link_address",label:"IP地址",width:"250"}}),l("el-table-column",{attrs:{prop:"status",label:"状态",width:"180"}}),l("el-table-column",{attrs:{label:"操作(上辅机系统是否联网运行)"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(l){return t.handleAuConnect(e.$index,e.row)}}},[t._v("联网")]),l("el-button",{attrs:{size:"mini",type:"info"},on:{click:function(l){return t.handleAuIndependent(e.$index,e.row)}}},[t._v("独立")])]}}])})],1),l("div",{staticClass:"table-header el-table--border"},[t._v("上辅机工作站")]),l("el-table",{staticStyle:{width:"100%"},attrs:{data:t.auxiliaryTableData,border:""}},[l("el-table-column",{attrs:{prop:"system_name",label:"上辅机工作站",width:"130"}}),l("el-table-column",{attrs:{prop:"link_address",label:"IP地址",width:"250"}}),l("el-table-column",{attrs:{prop:"status",label:"状态",width:"180"}}),l("el-table-column",{attrs:{label:"操作(上辅机工作站是否联网运行)"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(l){return t.handleAuWsConnect(e.$index,e.row)}}},[t._v("联网")]),l("el-button",{attrs:{size:"mini",type:"info"}},[t._v("独立")])]}}])})],1),l("mes-to-au-dialog",{ref:"mesToAuDialog",on:{synced:t.getChildSystems}}),l("au-to-mes-dialog",{ref:"auToMesDialog"})],1)},n=[],s=(l("4160"),l("159b"),function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("el-dialog",{attrs:{width:"30%",title:"MES系统与上辅机群控系统的数据同步",visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[l("span",{staticStyle:{"font-size":"18px"}},[t._v("确定同步")]),l("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),l("el-button",{attrs:{type:"primary"},on:{click:t.synchronize}},[t._v("确 定")])],1)])}),i=[],o=l("b775"),r=l("99b1");function u(){return Object(o["a"])({url:r["a"].SynchronizationUrl,method:"get"})}function c(){return Object(o["a"])({url:r["a"].ManualSyncUrl,method:"post"})}var b={data:function(){return{dialogVisible:!1}},created:function(){},methods:{synchronize:function(){var t=this;u().then((function(e){c().then((function(e){t.$message.success("同步成功"),t.$emit("synced")}))})),this.dialogVisible=!1},show:function(){this.dialogVisible=!0}}},d=b,h=l("2877"),f=Object(h["a"])(d,s,i,!1,null,null,null),m=f.exports,p=function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("el-dialog",{attrs:{width:"80%",title:"上辅机群控系统与工作站的数据同步",visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[l("div",{staticStyle:{"margin-bottom":"15px"}},[l("el-select",{attrs:{placeholder:"当前机台"}}),l("el-button",{staticStyle:{float:"right"}},[t._v("同步")])],1),l("el-table",[l("el-table-column",{attrs:{label:"上辅机群控"}},[l("el-table-column",{attrs:{label:"数据类别"}}),l("el-table-column",{attrs:{label:"数据类别"}})],1),l("el-table-column",{attrs:{label:"同步"}},[l("el-table-column",{attrs:{width:"80"},scopedSlots:t._u([{key:"header",fn:function(e){return[l("el-checkbox",[t._v("全选")])]}},{key:"default",fn:function(t){return[l("el-checkbox")]}}])}),l("el-table-column",{attrs:{prop:"sync_data_no",label:"数据编号"}}),l("el-table-column",{attrs:{width:"80"},scopedSlots:t._u([{key:"header",fn:function(e){return[l("el-checkbox",[t._v("全选")])]}},{key:"default",fn:function(t){return[l("el-checkbox")]}}])})],1),l("el-table-column",{attrs:{label:"上辅机工作站"}},[l("el-table-column",{attrs:{label:"数据类别"}}),l("el-table-column",{attrs:{label:"数据编号"}})],1)],1)],1)},y=[],g={data:function(){return{dialogVisible:!1}},methods:{show:function(){this.dialogVisible=!0}}},v=g,_=Object(h["a"])(v,p,y,!1,null,"225fc318",null),w=_.exports;function S(){return Object(o["a"])({url:r["a"].ChildSystemsUrl,method:"get",params:{all:1}})}function k(){return Object(o["a"])({url:r["a"].SaveInternetTime,method:"post"})}var x={components:{MesToAuDialog:m,AuToMesDialog:w},data:function(){return{mesSystemTableData:[],auxiliaryTableData:[]}},created:function(){this.getChildSystems()},methods:{getChildSystems:function(){var t=this;this.mesSystemTableData=[],this.auxiliaryTableData=[],S().then((function(e){e.results.forEach((function(e){"MES"===e.system_name?t.mesSystemTableData.push(e):t.auxiliaryTableData.push(e)}))}))},handleAuConnect:function(t,e){this.$refs.mesToAuDialog.show()},handleAuIndependent:function(t,e){var l=this;k().then((function(t){l.$message.success("独立成功"),l.getChildSystems()}))},handleAuWsConnect:function(t,e){this.$refs.auToMesDialog.show()}}},T=x,D=(l("e1bf"),Object(h["a"])(T,a,n,!1,null,"45eb5402",null));e["default"]=D.exports},e0173:function(t,e,l){},e1bf:function(t,e,l){"use strict";var a=l("e0173"),n=l.n(a);n.a}}]);