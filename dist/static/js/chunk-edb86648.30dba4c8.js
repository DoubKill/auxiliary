(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-edb86648"],{"3c17":function(t,e,a){"use strict";a.d(e,"p",(function(){return n})),a.d(e,"o",(function(){return l})),a.d(e,"j",(function(){return s})),a.d(e,"i",(function(){return o})),a.d(e,"l",(function(){return c})),a.d(e,"e",(function(){return u})),a.d(e,"d",(function(){return p})),a.d(e,"m",(function(){return m})),a.d(e,"k",(function(){return _})),a.d(e,"n",(function(){return h})),a.d(e,"c",(function(){return d})),a.d(e,"f",(function(){return b})),a.d(e,"h",(function(){return g})),a.d(e,"g",(function(){return f})),a.d(e,"b",(function(){return v})),a.d(e,"a",(function(){return w}));var r=a("b775"),i=a("99b1");function n(t){return Object(r["a"])({url:i["a"].ValidateVersionsUrl,method:"get",params:t})}function l(t,e){return Object(r["a"])({url:i["a"].TankMaterialsUrl,method:"get",params:{equip_no:t,tank_type:e}})}function s(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e)var n=i["a"].RubberMaterialUrl+e+"/";else n=i["a"].RubberMaterialUrl;var l={url:n,method:t};return Object.assign(l,a),Object(r["a"])(l)}function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e)var n=i["a"].RubberMaterialCopyUrl+e+"/";else n=i["a"].RubberMaterialCopyUrl;var l={url:n,method:t};return Object.assign(l,a),Object(r["a"])(l)}function c(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e)var n=i["a"].RubberProcessStepUrl+e+"/";else n=i["a"].RubberProcessStepUrl;var l={url:n,method:t};return Object.assign(l,a),Object(r["a"])(l)}function u(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a={url:i["a"].EquipAllUrl,method:t};return Object.assign(a,e),Object(r["a"])(a)}function p(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a={url:i["a"].EquipCopyAllUrl,method:t};return Object.assign(a,e),Object(r["a"])(a)}function m(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a={url:i["a"].SiteUrl,method:t};return Object.assign(a,e),Object(r["a"])(a)}function _(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a={url:i["a"].RecipeNoUrl,method:t};return Object.assign(a,e),Object(r["a"])(a)}function h(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a={url:i["a"].StageUrl,method:t};return Object.assign(a,e),Object(r["a"])(a)}function d(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a={url:i["a"].DevTypeUrl,method:t};return Object.assign(a,e),Object(r["a"])(a)}function b(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a={url:i["a"].GlobalSITEUrl,method:t};return Object.assign(a,e),Object(r["a"])(a)}function g(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e)var n=i["a"].MaterialsUrl+e+"/";else n=i["a"].MaterialsUrl;var l={url:n,method:t};return Object.assign(l,a),Object(r["a"])(l)}function f(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a={url:i["a"].MaterialTypelUrl,method:t};return Object.assign(a,e),Object(r["a"])(a)}function v(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a={url:i["a"].ConditionUrl,method:t};return Object.assign(a,e),Object(r["a"])(a)}function w(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a={url:i["a"].ActionUrl,method:t};return Object.assign(a,e),Object(r["a"])(a)}},"3ca3":function(t,e,a){"use strict";var r=a("6547").charAt,i=a("69f3"),n=a("7dd0"),l="String Iterator",s=i.set,o=i.getterFor(l);n(String,"String",(function(t){s(this,{type:l,string:String(t),index:0})}),(function(){var t,e=o(this),a=e.string,i=e.index;return i>=a.length?{value:void 0,done:!0}:(t=r(a,i),e.index+=t.length,{value:t,done:!1})}))},"53ca":function(t,e,a){"use strict";a.d(e,"a",(function(){return r}));a("a4d3"),a("e01a"),a("d28b"),a("d3b7"),a("3ca3"),a("ddb0");function r(t){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}},6547:function(t,e,a){var r=a("a691"),i=a("1d80"),n=function(t){return function(e,a){var n,l,s=String(i(e)),o=r(a),c=s.length;return o<0||o>=c?t?"":void 0:(n=s.charCodeAt(o),n<55296||n>56319||o+1===c||(l=s.charCodeAt(o+1))<56320||l>57343?t?s.charAt(o):n:t?s.slice(o,o+2):l-56320+(n-55296<<10)+65536)}};t.exports={codeAt:n(!1),charAt:n(!0)}},7156:function(t,e,a){var r=a("861d"),i=a("d2bb");t.exports=function(t,e,a){var n,l;return i&&"function"==typeof(n=e.constructor)&&n!==a&&r(l=n.prototype)&&l!==a.prototype&&i(t,l),t}},a2ef:function(t,e,a){},a434:function(t,e,a){"use strict";var r=a("23e7"),i=a("23cb"),n=a("a691"),l=a("50c4"),s=a("7b0b"),o=a("65f0"),c=a("8418"),u=a("1dde"),p=a("ae40"),m=u("splice"),_=p("splice",{ACCESSORS:!0,0:0,1:2}),h=Math.max,d=Math.min,b=9007199254740991,g="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!m||!_},{splice:function(t,e){var a,r,u,p,m,_,f=s(this),v=l(f.length),w=i(t,v),x=arguments.length;if(0===x?a=r=0:1===x?(a=0,r=v-w):(a=x-2,r=d(h(n(e),0),v-w)),v+a-r>b)throw TypeError(g);for(u=o(f,r),p=0;p<r;p++)m=w+p,m in f&&c(u,p,f[m]);if(u.length=r,a<r){for(p=w;p<v-r;p++)m=p+r,_=p+a,m in f?f[_]=f[m]:delete f[_];for(p=v;p>v-r+a;p--)delete f[p-1]}else if(a>r)for(p=v-r;p>w;p--)m=p+r-1,_=p+a-1,m in f?f[_]=f[m]:delete f[_];for(p=0;p<a;p++)f[p+w]=arguments[p+2];return f.length=v-r+a,u}})},a9e3:function(t,e,a){"use strict";var r=a("83ab"),i=a("da84"),n=a("94ca"),l=a("6eeb"),s=a("5135"),o=a("c6b6"),c=a("7156"),u=a("c04e"),p=a("d039"),m=a("7c73"),_=a("241c").f,h=a("06cf").f,d=a("9bf2").f,b=a("58a8").trim,g="Number",f=i[g],v=f.prototype,w=o(m(v))==g,x=function(t){var e,a,r,i,n,l,s,o,c=u(t,!1);if("string"==typeof c&&c.length>2)if(c=b(c),e=c.charCodeAt(0),43===e||45===e){if(a=c.charCodeAt(2),88===a||120===a)return NaN}else if(48===e){switch(c.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+c}for(n=c.slice(2),l=n.length,s=0;s<l;s++)if(o=n.charCodeAt(s),o<48||o>i)return NaN;return parseInt(n,r)}return+c};if(n(g,!f(" 0o1")||!f("0b1")||f("+0x1"))){for(var y,S=function(t){var e=arguments.length<1?0:t,a=this;return a instanceof S&&(w?p((function(){v.valueOf.call(a)})):o(a)!=g)?c(new f(x(e)),a,S):x(e)},k=r?_(f):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),R=0;k.length>R;R++)s(f,y=k[R])&&!s(S,y)&&d(S,y,h(f,y));S.prototype=v,v.constructor=S,l(i,g,S)}},cc1d:function(t,e,a){"use strict";var r=a("a2ef"),i=a.n(r);i.a},d1b0:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"recipe_modify",attrs:{"element-loading-text":"加载中..."}},[a("br"),a("el-form",{attrs:{inline:!0}},[a("el-form-item",{attrs:{label:"机台"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{size:"mini",disabled:!0},model:{value:t.equip_name,callback:function(e){t.equip_name=e},expression:"equip_name"}})],1),a("el-form-item",{attrs:{label:"机型名称"}},[a("el-input",{staticStyle:{width:"100px"},attrs:{size:"mini",disabled:!0},model:{value:t.category__category_name,callback:function(e){t.category__category_name=e},expression:"category__category_name"}})],1),a("el-form-item",{attrs:{label:"预计炼胶时间"}},[a("el-input-number",{staticStyle:{width:"100%"},attrs:{step:1,"step-strictly":"",min:0,"controls-position":"right",size:"mini"},model:{value:t.production_time_interval,callback:function(e){t.production_time_interval=e},expression:"production_time_interval"}})],1),a("el-form-item",{attrs:{label:"配方编号"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{size:"mini",disabled:!0},model:{value:t.stage_product_batch_no,callback:function(e){t.stage_product_batch_no=e},expression:"stage_product_batch_no"}})],1),a("el-form-item",{attrs:{label:"配方名称"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{size:"mini",disabled:!0},model:{value:t.product_name,callback:function(e){t.product_name=e},expression:"product_name"}})],1),a("el-form-item",{staticStyle:{float:"right"}},[a("el-button",{on:{click:t.recipe_return_list}},[t._v("返回")])],1),a("el-form-item",{staticStyle:{float:"right"}},[a("el-button",{on:{click:t.recipe_save_return}},[t._v("保存退出")])],1)],1),a("el-form",{attrs:{inline:!0}},[a("br"),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:"超温最短时间"}},[a("el-input-number",{staticStyle:{width:"70px"},attrs:{step:1,"step-strictly":"",min:0,"controls-position":"right",size:"mini"},model:{value:t.mini_time,callback:function(e){t.mini_time=e},expression:"mini_time"}})],1),a("el-form-item",{attrs:{label:"进胶最低温度"}},[a("el-input-number",{staticStyle:{width:"70px"},attrs:{step:1,"step-strictly":"",min:0,"controls-position":"right",size:"mini"},model:{value:t.mini_temp,callback:function(e){t.mini_temp=e},expression:"mini_temp"}})],1),a("el-form-item",{attrs:{label:"超温温度"}},[a("el-input-number",{staticStyle:{width:"70px"},attrs:{step:1,"step-strictly":"",min:0,"controls-position":"right",size:"mini"},model:{value:t.over_temp,callback:function(e){t.over_temp=e},expression:"over_temp"}})],1),a("el-form-item",{attrs:{label:"胶料总误差"}},[a("el-input-number",{staticStyle:{width:"70px"},attrs:{precision:3,step:.1,min:0,"controls-position":"right",size:"mini"},model:{value:t.batching_error,callback:function(e){t.batching_error=e},expression:"batching_error"}})],1),a("el-form-item",{attrs:{label:"转子水温"}},[a("el-input-number",{staticStyle:{width:"70px"},attrs:{step:1,"step-strictly":"",min:0,"controls-position":"right",size:"mini"},model:{value:t.zz_temp,callback:function(e){t.zz_temp=e},expression:"zz_temp"}})],1),a("el-form-item",{attrs:{label:"卸料门水温"}},[a("el-input-number",{staticStyle:{width:"70px"},attrs:{step:1,"step-strictly":"",min:0,"controls-position":"right",size:"mini"},model:{value:t.xlm_temp,callback:function(e){t.xlm_temp=e},expression:"xlm_temp"}})],1),a("el-form-item",{attrs:{label:"侧壁水温"}},[a("el-input-number",{staticStyle:{width:"70px"},attrs:{step:1,"step-strictly":"",min:0,"controls-position":"right",size:"mini"},model:{value:t.cb_temp,callback:function(e){t.cb_temp=e},expression:"cb_temp"}})],1)],1)]),a("el-col",{attrs:{span:0}},[a("div",{staticClass:"grid-content bg-purple"})])],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:"炼胶超时时间"}},[a("el-input-number",{staticStyle:{width:"70px"},attrs:{step:1,"step-strictly":"",min:0,"controls-position":"right",size:"mini"},model:{value:t.over_time,callback:function(e){t.over_time=e},expression:"over_time"}})],1),a("el-form-item",{attrs:{label:"进胶最高温度"}},[a("el-input-number",{staticStyle:{width:"70px"},attrs:{step:1,"step-strictly":"",min:0,"controls-position":"right",size:"mini"},model:{value:t.max_temp,callback:function(e){t.max_temp=e},expression:"max_temp"}})],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.reuse_flag,expression:"reuse_flag"}],attrs:{label:"回收时间"}},[a("el-input-number",{staticStyle:{width:"70px"},attrs:{step:1,"step-strictly":"",min:1,"controls-position":"right",size:"mini"},model:{value:t.reuse_time,callback:function(e){t.reuse_time=e},expression:"reuse_time"}})],1),a("el-form-item",{attrs:{label:"是否回收"}},[[a("el-radio",{attrs:{label:!0},model:{value:t.reuse_flag,callback:function(e){t.reuse_flag=e},expression:"reuse_flag"}},[t._v("是")]),a("el-radio",{attrs:{label:!1},model:{value:t.reuse_flag,callback:function(e){t.reuse_flag=e},expression:"reuse_flag"}},[t._v("否")])]],2),a("el-form-item",{attrs:{label:" "}},[a("el-radio",{attrs:{label:!0},model:{value:t.temp_use_flag,callback:function(e){t.temp_use_flag=e},expression:"temp_use_flag"}},[t._v("三区水温启动")]),a("el-radio",{attrs:{label:!1},model:{value:t.temp_use_flag,callback:function(e){t.temp_use_flag=e},expression:"temp_use_flag"}},[t._v("三区水温停用")])],1),a("el-form-item",{attrs:{label:"收皮",prop:"SelectEquip"}},[a("el-select",{staticStyle:{width:"85px"},attrs:{size:"mini",placeholder:"请选择"},model:{value:t.sp_num,callback:function(e){t.sp_num=e},expression:"sp_num"}},t._l(t.sp_num_options,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),a("el-form-item",{attrs:{label:"车/托"}}),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{label:"配方停用"}},[a("el-checkbox",{model:{value:t.use_flag,callback:function(e){t.use_flag=e},expression:"use_flag"}})],1)],1)]),a("el-col",{attrs:{span:0}},[a("div",{staticClass:"grid-content bg-purple"})])],1)],1),a("br"),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:9}},[a("div",{staticClass:"grid-content bg-purple"},[a("span",{staticClass:"font_custom"},[t._v("胶料称量")]),a("el-table",{staticStyle:{width:"100%"},attrs:{"highlight-current-row":"",data:t.rubber_tableData,border:""}},[a("el-table-column",{attrs:{align:"center",width:"50%",prop:"sn",label:"序号"}}),a("el-table-column",{attrs:{align:"center",width:"230",prop:"material_name",label:"胶料名称"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{staticClass:"input-with-select",attrs:{size:"mini",disabled:!0},model:{value:e.row.material_name,callback:function(a){t.$set(e.row,"material_name",a)},expression:"scope.row.material_name"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(a){return t.selectMaterial(e.row)}},slot:"append"})],1)]}}])}),a("el-table-column",{attrs:{align:"center",label:"设定值(kg)"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input-number",{staticStyle:{width:"70px"},attrs:{precision:2,step:.1,min:0,size:"mini",controls:!1},model:{value:e.row.actual_weight,callback:function(a){t.$set(e.row,"actual_weight",a)},expression:"scope.row.actual_weight"}})]}}])}),a("el-table-column",{attrs:{align:"center",label:"误差值(kg)"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input-number",{staticStyle:{width:"70px"},attrs:{precision:2,step:.1,min:0,size:"mini",controls:!1},model:{value:e.row.standard_error,callback:function(a){t.$set(e.row,"standard_error",a)},expression:"scope.row.standard_error"}})]}}])}),a("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return t.removeRubberRow(e.row)}}},[t._v("删除")])]}}])})],1),a("el-form",[a("el-form-item",{staticStyle:{"text-align":"center"}},[a("el-button",{attrs:{size:"mini"},on:{click:t.insertOneRubber}},[t._v("插入一行")])],1)],1),a("span",{staticClass:"font_custom"},[t._v("炭黑称量")]),a("el-table",{staticStyle:{width:"100%"},attrs:{"highlight-current-row":"",data:t.carbon_tableData,border:""}},[a("el-table-column",{attrs:{align:"center",width:"40",prop:"sn",label:"序号"}}),a("el-table-column",{attrs:{align:"center",prop:"action_name",label:"动作"}},[t._v("投料")]),a("el-table-column",{attrs:{width:"250",align:"center",label:"炭黑名称"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-select",{staticStyle:{width:"220px"},model:{value:e.row.material,callback:function(a){t.$set(e.row,"material",a)},expression:"scope.row.material"}},t._l(t.tankCarbons,(function(t){return a("el-option",{key:t.id,attrs:{label:t.material_name,value:t.id}})})),1)]}}])}),a("el-table-column",{attrs:{align:"center",width:"95",label:"设定值(kg)"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input-number",{staticStyle:{width:"70px"},attrs:{precision:2,step:.1,min:0,size:"mini",controls:!1},model:{value:e.row.actual_weight,callback:function(a){t.$set(e.row,"actual_weight",a)},expression:"scope.row.actual_weight"}})]}}])}),a("el-table-column",{attrs:{align:"center",width:"95",label:"误差值(kg)"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input-number",{staticStyle:{width:"70px"},attrs:{precision:2,step:.1,min:0,size:"mini",controls:!1},model:{value:e.row.standard_error,callback:function(a){t.$set(e.row,"standard_error",a)},expression:"scope.row.standard_error"}})]}}])}),a("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return t.removeCarbonRow(e.row)}}},[t._v("删除")])]}}])})],1),a("el-form",[a("el-form-item",{staticStyle:{"text-align":"center"}},[a("el-button",{attrs:{size:"mini"},on:{click:t.insertOnecarbon}},[t._v("插入一行")])],1)],1),a("span",{staticClass:"font_custom"},[t._v("油料称量")]),a("el-table",{staticStyle:{width:"100%"},attrs:{"highlight-current-row":"",data:t.oil_tableData,border:""}},[a("el-table-column",{attrs:{align:"center",width:"40",prop:"sn",label:"序号"}}),a("el-table-column",{attrs:{align:"center",prop:"action_name",label:"动作"}},[t._v("投料")]),a("el-table-column",{attrs:{width:"250",align:"center",label:"油脂名称"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-select",{staticStyle:{width:"220px"},model:{value:e.row.material,callback:function(a){t.$set(e.row,"material",a)},expression:"scope.row.material"}},t._l(t.tankOils,(function(t){return a("el-option",{key:t.id,attrs:{label:t.material_name,value:t.id}})})),1)]}}])}),a("el-table-column",{attrs:{align:"center",width:"95",label:"设定值(kg)"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input-number",{staticStyle:{width:"70px"},attrs:{precision:2,step:.1,min:0,size:"mini",controls:!1},model:{value:e.row.actual_weight,callback:function(a){t.$set(e.row,"actual_weight",a)},expression:"scope.row.actual_weight"}})]}}])}),a("el-table-column",{attrs:{align:"center",width:"95",label:"误差值(kg)"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input-number",{staticStyle:{width:"70px"},attrs:{precision:2,step:.1,min:0,size:"mini",controls:!1},model:{value:e.row.standard_error,callback:function(a){t.$set(e.row,"standard_error",a)},expression:"scope.row.standard_error"}})]}}])}),a("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return t.removeOilRow(e.row)}}},[t._v("删除")])]}}])})],1),a("el-form",[a("el-form-item",{staticStyle:{"text-align":"center"}},[a("el-button",{attrs:{size:"mini"},on:{click:t.insertOneOil}},[t._v("插入一行")])],1)],1)],1)]),a("el-col",{attrs:{span:15}},[a("div",{staticClass:"grid-content bg-purple"},[a("span",{staticClass:"font_custom"},[t._v("密炼规程")]),a("table",{staticClass:"table table-bordered",staticStyle:{width:"100%",color:"#909399","font-size":"14px","border-collapse":"collapse"},attrs:{border:"1",bordercolor:"#ebeef4"}},[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center",height:"48px"}},[t._v("序号")]),a("th",{staticStyle:{"text-align":"center",height:"48px"}},[t._v("条件")]),a("th",{staticStyle:{"text-align":"center",height:"48px"}},[t._v("时间")]),a("th",{staticStyle:{"text-align":"center",height:"48px"}},[t._v("温度")]),a("td",{staticStyle:{"text-align":"center",height:"48px"}},[t._v("能量")]),a("td",{staticStyle:{"text-align":"center",height:"48px"}},[t._v("功率")]),a("th",{staticStyle:{"text-align":"center",height:"48px"}},[t._v("动作")]),a("th",{staticStyle:{"text-align":"center",height:"48px"}},[t._v("压力")]),a("th",{staticStyle:{"text-align":"center",height:"48px"}},[t._v("转速")]),a("th",{staticStyle:{"text-align":"center",height:"48px"}},[t._v("操作")])])]),a("tbody",{staticStyle:{color:"#606266"}},t._l(t.RecipeMaterialList,(function(e,r){return a("tr",{key:r},[a("td",{staticStyle:{"text-align":"center",height:"48px"}},[t._v(t._s(e.sn))]),a("td",{staticStyle:{"text-align":"center",height:"48px"}},[a("el-select",{staticStyle:{width:"100px"},attrs:{size:"mini",clearable:"",placeholder:"请选择"},model:{value:e.condition,callback:function(a){t.$set(e,"condition",a)},expression:"step_ele.condition"}},t._l(t.SelectConditionOptions,(function(t){return a("el-option",{key:t.id,attrs:{label:t.condition,value:t.id}})})),1)],1),a("td",{staticStyle:{"text-align":"center",height:"48px"}},[a("el-input-number",{staticStyle:{width:"60px"},attrs:{step:1,"step-strictly":"",min:0,size:"mini","controls-position":"right"},model:{value:e.time,callback:function(a){t.$set(e,"time",a)},expression:"step_ele.time"}})],1),a("td",{staticStyle:{"text-align":"center",height:"48px"}},[a("el-input-number",{staticStyle:{width:"60px"},attrs:{step:1,"step-strictly":"",min:0,size:"mini","controls-position":"right"},model:{value:e.temperature,callback:function(a){t.$set(e,"temperature",a)},expression:"step_ele.temperature"}})],1),a("td",{staticStyle:{"text-align":"center",height:"48px"}},[a("el-input-number",{staticStyle:{width:"60px"},attrs:{precision:1,step:.1,min:0,size:"mini","controls-position":"right"},model:{value:e.energy,callback:function(a){t.$set(e,"energy",a)},expression:"step_ele.energy"}})],1),a("td",{staticStyle:{"text-align":"center",height:"48px"}},[a("el-input-number",{staticStyle:{width:"60px"},attrs:{precision:1,step:.1,min:0,size:"mini","controls-position":"right"},model:{value:e.power,callback:function(a){t.$set(e,"power",a)},expression:"step_ele.power"}})],1),a("td",{staticStyle:{"text-align":"center",height:"48px"}},[a("el-select",{staticStyle:{width:"100px"},attrs:{size:"mini",clearable:"",placeholder:"请选择"},model:{value:e.action,callback:function(a){t.$set(e,"action",a)},expression:"step_ele.action"}},t._l(t.SelectActionOptions,(function(t){return a("el-option",{key:t.id,attrs:{label:t.action,value:t.id}})})),1)],1),a("td",{staticStyle:{"text-align":"center",height:"48px"}},[a("el-input-number",{staticStyle:{width:"60px"},attrs:{precision:1,step:.1,min:0,size:"mini","controls-position":"right"},model:{value:e.pressure,callback:function(a){t.$set(e,"pressure",a)},expression:"step_ele.pressure"}})],1),a("td",{staticStyle:{"text-align":"center",height:"48px"}},[a("el-input-number",{staticStyle:{width:"60px"},attrs:{step:1,"step-strictly":"",min:0,size:"mini","controls-position":"right"},model:{value:e.rpm,callback:function(a){t.$set(e,"rpm",a)},expression:"step_ele.rpm"}})],1),a("td",{staticStyle:{"text-align":"center",height:"48px"}},[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.del_recipe_step_row(e,r)}}},[t._v("删除")])],1)])})),0)]),a("el-form",[a("el-form-item",{staticStyle:{"text-align":"center"}},[a("el-button",{attrs:{size:"mini"},on:{click:t.insert_recipe_step}},[t._v("插入一行")])],1)],1)],1)])],1),a("el-dialog",{attrs:{"close-on-click-modal":!1,"close-on-press-escape":!1,width:"90%",title:"胶料配料标准",visible:t.dialogRubberMaterialStandard},on:{"update:visible":function(e){t.dialogRubberMaterialStandard=e}}},[a("el-form",{attrs:{inline:!0}},[a("el-form-item",{attrs:{label:"预计炼胶时间"}},[a("el-input-number",{staticStyle:{width:"100%"},attrs:{step:1,"step-strictly":"",min:0,"controls-position":"right",size:"mini"},model:{value:t.production_time_interval,callback:function(e){t.production_time_interval=e},expression:"production_time_interval"}})],1),a("el-form-item",{staticStyle:{float:"right"}},[a("el-button",{on:{click:t.saveMaterialClicked}},[t._v("确定")])],1)],1),a("br"),a("table",{staticClass:"table table-bordered",staticStyle:{width:"100%",color:"#909399","font-size":"14px","border-collapse":"collapse"},attrs:{border:"1",bordercolor:"#ebeef4"}},[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center",height:"48px"}},[t._v("No")]),a("th",{staticStyle:{"text-align":"center",height:"48px"}},[t._v("类别")]),a("th",{staticStyle:{"text-align":"center",height:"48px"}},[t._v("原材料")]),a("td",{staticStyle:{"text-align":"center",height:"48px"}},[t._v("设定值(kg)")]),a("td",{staticStyle:{"text-align":"center",height:"48px"}},[t._v("误差值(kg)")]),a("th",{staticStyle:{"text-align":"center",height:"48px"}},[t._v("操作")])])]),a("tbody",{staticStyle:{color:"#606266"}},t._l(t.ProductRecipe,(function(e,r){return a("tr",{key:r},[a("td",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]},[t._v(t._s(e.material))]),a("td",{staticStyle:{"text-align":"center",height:"48px"}},[t._v(t._s(r+1))]),a("td",{staticStyle:{"text-align":"center",height:"48px"}},[t._v(t._s(e.material_type))]),a("td",{staticStyle:{"text-align":"center",height:"48px"}},[a("el-input",{staticClass:"input-with-select",staticStyle:{width:"70%"},attrs:{size:"mini",disabled:!0},model:{value:e.material_name,callback:function(a){t.$set(e,"material_name",a)},expression:"material_ele.material_name"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(a){return t.pop_up_raw_material(e,r)}},slot:"append"})],1)],1),a("td",{staticStyle:{"text-align":"center",height:"48px"}},[a("el-input-number",{attrs:{precision:2,step:.1,min:0,size:"mini","controls-position":"right"},model:{value:e.actual_weight,callback:function(a){t.$set(e,"actual_weight",t._n(a))},expression:"material_ele.actual_weight"}})],1),a("td",{staticStyle:{"text-align":"center",height:"48px"}},[a("el-input-number",{attrs:{precision:2,step:.1,min:0,size:"mini","controls-position":"right"},model:{value:e.standard_error,callback:function(a){t.$set(e,"standard_error",t._n(a))},expression:"material_ele.standard_error"}})],1),a("td",{staticStyle:{"text-align":"center",height:"48px"}},[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.del_material_row(e,r)}}},[t._v("删除")])],1)])})),0)]),a("el-form",[a("el-form-item",{staticStyle:{"text-align":"center"}},[a("el-button",{on:{click:t.insert_material_changed}},[t._v("插入一行")])],1)],1)],1),a("el-dialog",{attrs:{"close-on-click-modal":!1,"close-on-press-escape":!1,width:"70%",title:"原材料选择",visible:t.dialogRawMaterialSync},on:{"update:visible":function(e){t.dialogRawMaterialSync=e}}},[a("el-form",{attrs:{inline:!0}},[a("el-form-item",{attrs:{label:"原材料类别"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择"},on:{change:t.materialTypeChange},model:{value:t.materialType,callback:function(e){t.materialType=e},expression:"materialType"}},t._l(t.materialTypeOptions,(function(t){return a("el-option",{key:t.id,attrs:{label:t.global_name,value:t.id}})})),1)],1),t._v(" 原材料编号:"),a("el-input",{staticStyle:{width:"20%"},on:{input:t.search_material_no_Change},model:{value:t.search_material_no,callback:function(e){t.search_material_no=e},expression:"search_material_no"}}),t._v(" 原材料名称:"),a("el-input",{staticStyle:{width:"20%"},on:{input:t.search_material_name_Change},model:{value:t.search_material_name,callback:function(e){t.search_material_name=e},expression:"search_material_name"}})],1),a("el-table",{staticStyle:{width:"100%"},attrs:{"highlight-current-row":"",data:t.tableData,border:""}},[a("el-table-column",{attrs:{align:"center",label:"S",width:"30"}}),a("el-table-column",{attrs:{align:"center",prop:"material_no",label:"原材料代码"}}),a("el-table-column",{attrs:{align:"center",prop:"material_name",label:"原材料名称"}}),a("el-table-column",{attrs:{align:"center",prop:"material_type_name",label:"原材料类别"}}),a("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button-group",[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.handleMaterialSelect(e.row)}}},[t._v("选中 ")])],1)]}}])})],1),a("el-pagination",{attrs:{"current-page":t.currentPage,"page-size":t.pageSize,total:t.tableDataTotal,layout:"total, prev, pager, next"},on:{"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e},"current-change":t.pagehandleCurrentChange}})],1)],1)},i=[],n=(a("c975"),a("a434"),a("a9e3"),a("53ca")),l=a("5530"),s=(a("96cf"),a("1da1")),o=a("3c17"),c={data:function(){return{equip_no:null,equip_name:null,category__category_name:null,equip_display_bool:null,stage_product_batch_no:null,product_name:null,mini_time:void 0,mini_temp:void 0,over_temp:void 0,batching_error:void 0,zz_temp:void 0,xlm_temp:void 0,cb_temp:void 0,over_time:void 0,max_temp:void 0,reuse_time:void 0,reuse_flag:!0,temp_use_flag:!0,sp_num:void 0,use_flag:!0,production_time_interval:void 0,time:void 0,temperature:void 0,energy:void 0,power:void 0,pressure:void 0,rpm:void 0,condition:null,standard_error:null,SelectEquipOptions:[],rubber_tableData:[],carbon_tableData:[],oil_tableData:[],RecipeMaterialList:[],ProductRecipe:[],SelectConditionOptions:[],SelectActionOptions:[],materialTypeOptions:[],sp_num_options:[{value:1,label:"1"},{value:2,label:"2"},{value:3,label:"3"},{value:4,label:"4"},{value:5,label:"5"}],materialType:null,search_material_no:null,search_material_name:null,dialogRubberMaterialStandard:!1,dialogRawMaterialSync:!1,tableData:[],currentRow:{},currentPage:1,pageSize:10,tableDataTotal:0,recipe_step_id:null,auto_flag:0,batching_details_list:[],rubberRow:null,tankOils:[],tankCarbons:[],loading:!0}},created:function(){this.equip_no=this.$route.params["equip_no"],this.getTankCarbons(),this.getTankOils(),this.recipe_material_list(this.$route.params["id"]),this.condition_list(),this.action_list(),this.material_type_list(),this.equip_list()},methods:{getTankCarbons:function(){var t=this;Object(o["o"])(this.equip_no,1).then((function(e){t.tankCarbons=e.results}))},getTankOils:function(){var t=this;Object(o["o"])(this.equip_no,2).then((function(e){t.tankOils=e.results}))},equip_list:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(o["e"])("get",{params:{}});case 3:a=e.sent,t.SelectEquipOptions=a.results,e.next=10;break;case 7:throw e.prev=7,e.t0=e["catch"](0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},removeCarbonRow:function(t){this.carbon_tableData.splice(this.carbon_tableData.indexOf(t),1)},removeRubberRow:function(t){this.rubber_tableData.splice(this.rubber_tableData.indexOf(t),1)},removeOilRow:function(t){this.oil_tableData.splice(this.oil_tableData.indexOf(t),1)},insertOneRubber:function(){var t=this.rubber_tableData.length+1;this.rubber_tableData[this.rubber_tableData.length-1]&&(t=this.rubber_tableData[this.rubber_tableData.length-1].sn+1),this.rubber_tableData.push({sn:t,actual_weight:0,standard_error:0,material_name:""})},insertOnecarbon:function(){var t=this.carbon_tableData.length+1;this.carbon_tableData[this.carbon_tableData.length-1]&&(t=this.carbon_tableData[this.carbon_tableData.length-1].sn+1),this.carbon_tableData.push({sn:t,actual_weight:0,standard_error:0,material_name:""})},insertOneOil:function(){var t=this.oil_tableData.length+1;this.oil_tableData[this.oil_tableData.length-1]&&(t=this.oil_tableData[this.oil_tableData.length-1].sn+1),this.oil_tableData.push({sn:t,actual_weight:0,standard_error:0,material_name:""})},recipe_material_list:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var r,i,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(o["j"])("get",t,{params:{}});case 3:for(r=a.sent,e.production_time_interval=r["production_time_interval"],e.equip_name=e.$route.params["equip_name"],e.category__category_name=e.$route.params["category__category_name"],null==e.equip_name?e.equip_display_bool=!1:e.equip_display_bool=!0,e.stage_product_batch_no=e.$route.params["stage_product_batch_no"],e.product_name=e.$route.params["product_name"],i=0;i<r["batching_details"].length;++i)2===r["batching_details"][i]["type"]?e.carbon_tableData.push(Object(l["a"])({sn:e.carbon_tableData.length+1},r["batching_details"][i])):3===r["batching_details"][i]["type"]?e.oil_tableData.push(Object(l["a"])({sn:e.oil_tableData.length+1,action_name:"投料"},r["batching_details"][i])):e.rubber_tableData.push(Object(l["a"])({sn:e.rubber_tableData.length+1,action_name:"投料"},r["batching_details"][i]));for(e.carbon_tableData=e.carbon_tableData.sort(e.compareSn),e.oil_tableData=e.oil_tableData.sort(e.compareSn),e.rubber_tableData=e.rubber_tableData.sort(e.compareSn),e.recipe_step_id=r["processes"]["id"],e.mini_time=r["processes"]["mini_time"],e.mini_temp=r["processes"]["mini_temp"],e.over_temp=r["processes"]["over_temp"],e.batching_error=r["processes"]["batching_error"],e.zz_temp=r["processes"]["zz_temp"],e.xlm_temp=r["processes"]["xlm_temp"],e.cb_temp=r["processes"]["cb_temp"],e.over_time=r["processes"]["over_time"],e.max_temp=r["processes"]["max_temp"],e.reuse_time=r["processes"]["reuse_time"],e.reuse_flag=r["processes"]["reuse_flag"],e.temp_use_flag=r["processes"]["temp_use_flag"],e.sp_num=r["processes"]["sp_num"],e.use_flag=r["processes"]["use_flag"],e.RecipeMaterialList=[],n=0;n<r["process_details"].length;++n)e.RecipeMaterialList.push({sn:r["process_details"][n].sn,condition:r["process_details"][n]["condition"],time:e.step_type_conversion(r["process_details"][n]["time"]),temperature:e.step_type_conversion(r["process_details"][n]["temperature"]),energy:e.step_type_conversion(r["process_details"][n]["energy"]),power:e.step_type_conversion(r["process_details"][n]["power"]),action:r["process_details"][n]["action"],pressure:e.step_type_conversion(r["process_details"][n]["pressure"]),rpm:e.step_type_conversion(r["process_details"][n]["rpm"])});return e.RecipeMaterialList=e.RecipeMaterialList.sort(e.compareSn),e.loading=!1,a.abrupt("return",r);case 36:throw a.prev=36,a.t0=a["catch"](0),e.loading=!1,new Error(a.t0);case 40:case"end":return a.stop()}}),a,null,[[0,36]])})))()},compareSn:function(t,e){return Number(t.sn)-Number(e.sn)},step_type_conversion:function(t){return"object"===Object(n["a"])(t)||0===Number(t)?void 0:t},raw_material_list:function(){var t=arguments,e=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var r,i,n,l,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=t.length>0&&void 0!==t[0]?t[0]:1,a.prev=1,i=e.materialType?e.materialType:"",n=e.search_material_no?e.search_material_no:"",l=e.search_material_name?e.search_material_name:"",a.next=7,Object(o["h"])("get",null,{params:{page:r,material_type_id:i,material_no:n,material_name:l,use_flag:!0}});case 7:s=a.sent,e.tableData=s.results,e.tableDataTotal=s.count,a.next=15;break;case 12:throw a.prev=12,a.t0=a["catch"](1),new Error(a.t0);case 15:case"end":return a.stop()}}),a,null,[[1,12]])})))()},material_type_list:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(o["g"])("get",{params:{}});case 3:a=e.sent,t.materialTypeOptions=a.results,e.next=10;break;case 7:throw e.prev=7,e.t0=e["catch"](0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},condition_list:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(o["b"])("get",{params:{}});case 3:a=e.sent,t.SelectConditionOptions=a.results,e.next=10;break;case 7:throw e.prev=7,e.t0=e["catch"](0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},action_list:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(o["a"])("get",{params:{}});case 3:a=e.sent,t.SelectActionOptions=a.results,e.next=10;break;case 7:throw e.prev=7,e.t0=e["catch"](0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},popup_material_list:function(t){return Object(s["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(o["j"])("get",t);case 3:return a=e.sent,e.abrupt("return",a);case 7:throw e.prev=7,e.t0=e["catch"](0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},put_recipe_list:function(t,e){return Object(s["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(o["j"])("put",t,e);case 3:return r=a.sent,a.abrupt("return",r);case 7:throw a.prev=7,a.t0=a["catch"](0),new Error(a.t0);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})))()},put_recipe_info_step_list:function(t,e){return Object(s["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(o["l"])("put",t,e);case 3:return r=a.sent,a.abrupt("return",r);case 7:throw a.prev=7,a.t0=a["catch"](0),new Error(a.t0);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})))()},post_recipe_info_step_list:function(t){return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(o["l"])("post",null,t);case 3:e.sent,e.next=9;break;case 6:throw e.prev=6,e.t0=e["catch"](0),new Error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))()},modify_material_button:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.dialogRubberMaterialStandard=!0,t.next=3,this.popup_material_list(this.$route.params["id"]);case 3:for(e=t.sent,e["production_time_interval"]?this.production_time_interval=e["production_time_interval"]:this.production_time_interval=void 0,this.ProductRecipe=[],a=0;a<e["batching_details"].length;++a)this.ProductRecipe.push({sn:this.ProductRecipe.length+1,material:e["batching_details"][a]["material"],material_type:e["batching_details"][a]["material_type"],auto_flag:e["batching_details"][a]["auto_flag"],material_name:e["batching_details"][a]["material_name"],actual_weight:e["batching_details"][a]["actual_weight"],standard_error:e["batching_details"][a]["standard_error"]});case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),insert_material_changed:function(){this.ProductRecipe.push({material:"",material_type:"",auto_flag:0,material_name:"",actual_weight:null,standard_error:null})},del_material_row:function(t,e){this.ProductRecipe.splice(e,1)},materialTypeChange:function(){this.raw_material_list()},search_material_no_Change:function(){this.raw_material_list()},search_material_name_Change:function(){this.raw_material_list()},delete_recipe_step:function(){},selectMaterial:function(t){this.rubberRow=t,this.dialogRawMaterialSync=!0,this.raw_material_list()},pop_up_raw_material:function(t,e){this.raw_material_index=e,this.dialogRawMaterialSync=!0,this.raw_material_list()},pagehandleCurrentChange:function(t){this.currentRow=t,this.raw_material_list(t)},handleMaterialSelect:function(t){if(this.rubberRow){if("炭黑"===t.material_type_name||"油料"===t.material_type_name)return void this.$message("非法选择");this.$set(this.rubberRow,"material_name",t.material_name),this.rubberRow.material=t.id,this.dialogRawMaterialSync=!1}else{var e=this;e.ProductRecipe[e.raw_material_index].material_name=t.material_name,e.ProductRecipe[e.raw_material_index].material=t.id,e.ProductRecipe[e.raw_material_index].material_type=t.material_type_name,e.dialogRawMaterialSync=!1}},saveMaterialClicked:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e,a,r,i,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e=this,a=[],r=0;case 3:if(!(r<this.ProductRecipe.length)){t.next=14;break}if(!e.ProductRecipe[r].material_name){t.next=9;break}i={sn:r+1,auto_flag:0,material:e.ProductRecipe[r].material,actual_weight:e.ProductRecipe[r].actual_weight,standard_error:e.ProductRecipe[r].standard_error},a.push(i),t.next=11;break;case 9:return this.$message({message:"必填字段不能为空",type:"error"}),t.abrupt("return");case 11:++r,t.next=3;break;case 14:return n=null,this.production_time_interval&&(n=this.production_time_interval),t.prev=16,console.log("batching_details_list",a),t.next=20,this.put_recipe_list(this.$route.params["id"],{data:{production_time_interval:n,batching_details:a}});case 20:this.dialogRubberMaterialStandard=!1,this.carbon_tableData=[],this.oil_tableData=[],this.rubber_tableData=[],this.recipe_material_list(this.$route.params["id"]),t.next=30;break;case 27:t.prev=27,t.t0=t["catch"](16),t.t0;case 30:case"end":return t.stop()}}),t,this,[[16,27]])})));function e(){return t.apply(this,arguments)}return e}(),insert_recipe_step:function(){var t=this.RecipeMaterialList[this.RecipeMaterialList.length-1]?this.RecipeMaterialList[this.RecipeMaterialList.length-1].sn+1:1;this.RecipeMaterialList.push({sn:t,time:void 0,temperature:void 0,energy:void 0,power:void 0,pressure:void 0,rpm:void 0})},del_recipe_step_row:function(t,e){this.RecipeMaterialList.splice(e,1)},recipe_save_return:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e,a,r,i,n,l,s,o,c,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null!=this.equip_name){t.next=3;break}return this.$message({message:"机台不能不能为空",type:"error"}),t.abrupt("return");case 3:if(0!==this.RecipeMaterialList.length){t.next=6;break}return this.$message({message:"密炼步序不能为空",type:"error"}),t.abrupt("return");case 6:e=[],a=0;case 8:if(!(a<this.RecipeMaterialList.length)){t.next=19;break}if(!this.RecipeMaterialList[a].action){t.next=14;break}r={sn:this.RecipeMaterialList[a].sn,condition:this.RecipeMaterialList[a].condition,time:void 0===this.RecipeMaterialList[a].time?0:this.RecipeMaterialList[a].time,temperature:void 0===this.RecipeMaterialList[a].temperature?0:this.RecipeMaterialList[a].temperature,energy:void 0===this.RecipeMaterialList[a].energy?0:this.RecipeMaterialList[a].energy,power:void 0===this.RecipeMaterialList[a].power?0:this.RecipeMaterialList[a].power,action:this.RecipeMaterialList[a].action,pressure:void 0===this.RecipeMaterialList[a].pressure?0:this.RecipeMaterialList[a].pressure,rpm:void 0===this.RecipeMaterialList[a].rpm?0:this.RecipeMaterialList[a].rpm},e.push(r),t.next=16;break;case 14:return this.$message({message:"密炼步序动作字段不能为空",type:"error"}),t.abrupt("return");case 16:++a,t.next=8;break;case 19:if(!this.sp_num){t.next=56;break}for(i=[],n=0;n<this.rubber_tableData.length;++n)this.rubber_tableData[n].material&&(l={sn:this.rubber_tableData[n].sn,auto_flag:0,material:this.rubber_tableData[n].material,actual_weight:this.rubber_tableData[n].actual_weight?this.rubber_tableData[n].actual_weight:0,standard_error:this.rubber_tableData[n].standard_error,type:1},i.push(l));n=0;case 23:if(!(n<this.carbon_tableData.length)){t.next=31;break}if(this.carbon_tableData[n].material){t.next=26;break}return t.abrupt("continue",28);case 26:s={sn:this.carbon_tableData[n].sn,auto_flag:0,material:this.carbon_tableData[n].material,actual_weight:this.carbon_tableData[n].actual_weight?this.carbon_tableData[n].actual_weight:0,standard_error:this.carbon_tableData[n].standard_error,type:2},i.push(s);case 28:++n,t.next=23;break;case 31:n=0;case 32:if(!(n<this.oil_tableData.length)){t.next=40;break}if(this.oil_tableData[n].material){t.next=35;break}return t.abrupt("continue",37);case 35:o={sn:this.oil_tableData[n].sn,auto_flag:0,material:this.oil_tableData[n].material,actual_weight:this.oil_tableData[n].actual_weight?this.oil_tableData[n].actual_weight:0,standard_error:this.oil_tableData[n].standard_error,type:3},i.push(o);case 37:++n,t.next=32;break;case 40:return c=null,this.production_time_interval&&(c=this.production_time_interval),u=this.$loading({lock:!0,text:"提交中",spinner:"el-icon-loading"}),t.prev=43,t.next=46,this.put_recipe_list(this.$route.params["id"],{data:{process_details:e,processes:{mini_time:void 0===this.mini_time?0:this.mini_time,mini_temp:void 0===this.mini_temp?0:this.mini_temp,over_temp:void 0===this.over_temp?0:this.over_temp,batching_error:void 0===this.batching_error?0:this.batching_error,zz_temp:void 0===this.zz_temp?0:this.zz_temp,xlm_temp:void 0===this.xlm_temp?0:this.xlm_temp,cb_temp:void 0===this.cb_temp?0:this.cb_temp,over_time:void 0===this.over_time?0:this.over_time,max_temp:void 0===this.max_temp?0:this.max_temp,reuse_time:void 0===this.reuse_time?0:this.reuse_time,reuse_flag:this.reuse_flag,temp_use_flag:this.temp_use_flag,sp_num:this.sp_num,use_flag:this.use_flag,equip:this.$route.params["equip"],product_batching:this.$route.params["id"]},production_time_interval:c,batching_details:i}});case 46:this.$message({message:this.stage_product_batch_no+"配方步序修改成功",type:"success"}),u.close(),this.$router.push({name:"RecipeList"}),t.next=54;break;case 51:t.prev=51,t.t0=t["catch"](43),u.close();case 54:t.next=57;break;case 56:this.$message({message:"收皮信息不能为空",type:"error"});case 57:case"end":return t.stop()}}),t,this,[[43,51]])})));function e(){return t.apply(this,arguments)}return e}(),recipe_return_list:function(){this.$router.push({name:"RecipeList"})},sp_numFormatter:function(){return this.sp_numChoice(this.sp_num)},sp_numChoice:function(t){switch(t){case 1:return"1车/托";case 2:return"2车/托";case 3:return"3车/托";case 4:return"4车/托";case 5:return"5车/托"}}}},u=c,p=(a("cc1d"),a("2877")),m=Object(p["a"])(u,r,i,!1,null,null,null);e["default"]=m.exports},d28b:function(t,e,a){var r=a("746f");r("iterator")},e01a:function(t,e,a){"use strict";var r=a("23e7"),i=a("83ab"),n=a("da84"),l=a("5135"),s=a("861d"),o=a("9bf2").f,c=a("e893"),u=n.Symbol;if(i&&"function"==typeof u&&(!("description"in u.prototype)||void 0!==u().description)){var p={},m=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof m?new u(t):void 0===t?u():u(t);return""===t&&(p[e]=!0),e};c(m,u);var _=m.prototype=u.prototype;_.constructor=m;var h=_.toString,d="Symbol(test)"==String(u("test")),b=/^Symbol\((.*)\)[^)]+$/;o(_,"description",{configurable:!0,get:function(){var t=s(this)?this.valueOf():this,e=h.call(t);if(l(p,t))return"";var a=d?e.slice(7,-1):e.replace(b,"$1");return""===a?void 0:a}}),r({global:!0,forced:!0},{Symbol:m})}}}]);