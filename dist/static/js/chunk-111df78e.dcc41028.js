(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-111df78e"],{"8b11":function(t,a,e){},9406:function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"dashboard"},[t.loading?t._e():e("div",{staticStyle:{display:"flex","flex-wrap":"wrap"}},t._l(t.chartDataList,(function(a,i){return e("div",{key:i,staticClass:"dashboard_box"},[a.chartData.rows.length>0&&(a.chartData.rows[0].actual_num||a.chartData.rows[0].plan_num)?e("div",[e("div",{staticClass:"dashboard_boxTitle",on:{click:function(e){return t.clickBoxTitle(a,i)}}},[t._v(t._s(a.equip_no)+"#机台")]),e("div",{staticStyle:{height:"300px"}},[e("ve-histogram",{attrs:{width:"100%",height:"100%",data:a.chartData,settings:t.chartSettings,"after-set-option":t.afterSetOption}})],1),e("el-form",{ref:"form",refInFor:!0,attrs:{model:t.form,"label-width":"90px"}},[e("el-form-item",{attrs:{label:"当前规格:"}},[t._v(t._s(t.setRetVal(a.chartData.rows,0))+" ")]),e("el-form-item",{attrs:{label:"收皮数量:"}},[t._v(t._s(t.setRetVal(a.chartData.rows,1)))]),e("el-form-item",{attrs:{label:"设备状态:"}},[t._v(t._s(t.setRetVal(a.chartData.rows,2)))])],1)],1):e("div",[e("div",{staticClass:"dashboard_boxTitle"},[t._v(t._s(a.equip_no)+"#机台")]),e("span",{staticClass:"nodeData"},[t._v("暂无数据")])])])})),0),0===t.chartDataList.length?e("div",[t._v("暂无数据")]):t._e(),e("el-dialog",{staticStyle:{"min-width":"900px"},attrs:{title:t.chartDataList.length>0?t.chartDataList[t.currentIndex].equip_no+"#机台 生产信息统计":"",center:"",visible:t.dialogVisible,width:"70%"},on:{"update:visible":function(a){t.dialogVisible=a}}},[e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.dialogLoading,expression:"dialogLoading"}]},[t.dialogLoading||"{}"===JSON.stringify(t.infoData)?t._e():e("div",[e("span",{staticClass:"visibleTitle",staticStyle:{"padding-left":"0"}},[t._v("当前规格："+t._s(t.setRetVal(t.currentEquipInfo,0)))]),e("span",{staticClass:"visibleTitle"},[t._v("班次："+t._s(t.infoData.classes_name||"--"))]),e("span",{staticClass:"visibleTitle"},[t._v("收皮数量："+t._s(t.setRetVal(t.currentEquipInfo,1)))]),e("span",{staticClass:"visibleTitle"},[t._v(" 设备状态： "),e("span",[t._v(t._s(t.setRetVal(t.currentEquipInfo,2)))])])]),e("div",{staticStyle:{height:"390px",display:"flex"}},[e("div",{staticClass:"visibleLeftBox"},[!t.dialogLoading&&t.chartDataLeft.rows.length>0?e("div",[e("div",{staticClass:"visibleTitleLeft"},[t._v(t._s(t.infoData.classes_name)+" 规格别成绩")]),e("div",{staticStyle:{height:"350px"}},[e("ve-histogram",{attrs:{height:"100%",data:t.chartDataLeft,settings:t.chartSettingsLeft,"after-set-option":t.afterSetOptionLeft}})],1)]):e("div",{staticClass:"nodeData"},[t._v("暂无数据")])]),e("div",{staticClass:"visibleRightBox"},[!t.dialogLoading&&t.chartDataRight.rows.length>0?e("div",[e("div",{staticClass:"visibleTitleLeft"},[t._v("设备运行时间统计")]),e("ve-ring",{attrs:{data:t.chartDataRight,"after-set-option":t.afterSetOptionRight}})],1):e("div",{staticClass:"nodeData"},[t._v("暂无数据")])])])])])],1)},s=[],n=(e("96cf"),e("1da1")),r=e("b775"),o=e("99b1");function l(t,a){var e={url:o["a"].EquipStatusSlanListUrl,method:t};return Object.assign(e,a),Object(r["a"])(e)}function c(t,a){var e={url:o["a"].EquipDetailedListUrl,method:t};return Object.assign(e,a),Object(r["a"])(e)}var u={name:"Dashboard",data:function(){return this.chartSettings={labelMap:{global_name:"班次",plan_num:"计划车次",actual_num:"实际车次"}},this.chartSettingsLeft={labelMap:{product_no:"班次",sum_plan_trains:"计划车次",actual_trains:"实际车次"}},{dialogVisible:!1,form:{},chartDataList:[],options:{grid:{y:30,y2:10}},infoData:{},chartDataLeft:{columns:["product_no","sum_plan_trains","actual_trains"],rows:[]},optionsLeft:{grid:{y:35,y2:20}},chartDataRight:{columns:["status","count_status"],rows:[]},optionsRight:{tooltip:{},series:[{labelLine:{show:!1},label:{show:!1}}]},current_equip_no:"",currentIndex:0,loading:!0,dialogLoading:!0,currentEquipInfo:{}}},created:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.getList();case 2:case"end":return a.stop()}}),a)})))()},methods:{getList:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var e,i,s,n,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,l("get");case 3:for(n in e=a.sent,i=e||{},t.loading=!1,s=[],i)r=i[n],s.push({equip_no:n,chartData:{columns:["global_name","plan_num","actual_num"],rows:r}});t.chartDataList=s,a.next=14;break;case 11:a.prev=11,a.t0=a["catch"](0),t.loading=!1;case 14:case"end":return a.stop()}}),a,null,[[0,11]])})))()},getEquipDetailedList:function(t,a){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function i(){var s;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.prev=0,e.chartDataLeft.rows=[],e.chartDataRight.rows=[],e.dialogLoading=!0,i.next=6,c("get",{params:{equip_no:t,product_no:a}});case 6:s=i.sent,e.infoData=s||{},e.chartDataLeft.rows=e.infoData.product_list||[],e.chartDataRight.rows=e.infoData.status_list||[],e.dialogLoading=!1,i.next=16;break;case 13:i.prev=13,i.t0=i["catch"](0),e.dialogLoading=!1;case 16:case"end":return i.stop()}}),i,null,[[0,13]])})))()},setRetVal:function(t,a){for(var e="",i=0;i<t.length;i++)if(e=t[i].ret[a],e&&"--"!==e)break;return e||"--"},afterSetOption:function(t){t.setOption(this.options)},clickBoxTitle:function(t,a){this.dialogVisible=!0,this.currentIndex=a,this.currentEquipInfo=t.chartData.rows;var e=this.setRetVal(t.chartData.rows,0);e=e&&"--"!==e?e:"",this.getEquipDetailedList(t.equip_no,e)},afterSetOptionLeft:function(t){t.setOption(this.optionsLeft)},afterSetOptionRight:function(t){t.setOption(this.optionsRight)}}},d=u,h=(e("af54"),e("2877")),p=Object(h["a"])(d,i,s,!1,null,null,null);a["default"]=p.exports},af54:function(t,a,e){"use strict";var i=e("8b11"),s=e.n(i);s.a}}]);